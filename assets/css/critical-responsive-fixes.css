/**
 * CRITICAL RESPONSIVE FIXES
 * Addresses all critical issues from comprehensive audit
 * January 24, 2026
 */

/* ============================================
   1. STANDARDIZED RESPONSIVE BREAKPOINTS
   ============================================ */

/* Breakpoint Strategy:
   - Mobile: 0-767.98px
   - Tablet: 768px-1023.98px
   - Desktop: 1024px+
   - Extra Small: 0-479.98px
*/

/* ============================================
   2. HERO HEIGHT FIXES - Mobile First
   ============================================ */

/* Homepage Hero */
.home-hero,
.about-hero,
.contact-hero,
.gallery-hero,
.models-hero,
.3d-hero {
    min-height: 400px !important; /* Mobile: shorter */
}

/* Tablet */
@media (min-width: 768px) and (max-width: 1023.98px) {
    .home-hero,
    .about-hero,
    .contact-hero,
    .gallery-hero,
    .models-hero,
    .3d-hero {
        min-height: 500px !important;
    }
}

/* Desktop */
@media (min-width: 1024px) {
    .home-hero,
    .about-hero,
    .contact-hero,
    .gallery-hero,
    .models-hero,
    .3d-hero {
        min-height: 600px !important;
    }
}

/* Extra small phones */
@media (max-width: 479.98px) {
    .home-hero,
    .about-hero,
    .contact-hero,
    .gallery-hero,
    .models-hero,
    .3d-hero {
        min-height: 350px !important;
        max-height: 50vh !important; /* Don't take more than half screen */
    }
}

/* Mobilhaus Hero specific */
.mobilhaus-hero {
    min-height: 500px !important;
}

@media (min-width: 768px) and (max-width: 1023.98px) {
    .mobilhaus-hero {
        min-height: 600px !important;
    }
}

@media (min-width: 1024px) {
    .mobilhaus-hero {
        min-height: 700px !important;
    }
}

@media (max-width: 479.98px) {
    .mobilhaus-hero {
        min-height: 400px !important;
        max-height: 55vh !important;
    }
}

/* ============================================
   3. TOUCH TARGET FIXES - Minimum 44px
   ============================================ */

/* Filter buttons */
.filter-btn,
.plan-btn,
.gallery-filters button,
.models-filters button {
    min-height: 44px !important;
    min-width: 44px !important;
    padding: 10px 20px !important;
}

/* Color selector buttons */
.color-btn,
.mobilhaus-color-btn {
    min-height: 44px !important;
    min-width: 100px !important;
    padding: 10px 16px !important;
}

@media (max-width: 767.98px) {
    .color-btn,
    .mobilhaus-color-btn {
        min-width: 80px !important;
        padding: 8px 12px !important;
        font-size: 13px !important;
    }
}

/* Lightbox navigation - desktop OK, mobile needs fix */
.lightbox-close,
.lightbox-prev,
.lightbox-next {
    min-width: 50px !important;
    min-height: 50px !important;
}

@media (max-width: 767.98px) {
    .lightbox-close,
    .lightbox-prev,
    .lightbox-next {
        min-width: 48px !important;
        min-height: 48px !important;
        font-size: 24px !important;
    }
}

/* All buttons baseline */
.btn,
button:not(.block-editor-block-mover-button):not(.components-button) {
    min-height: 44px !important;
    padding: 10px 24px !important;
}

.btn-lg {
    min-height: 48px !important;
    padding: 12px 32px !important;
}

@media (max-width: 767.98px) {
    .btn {
        width: 100% !important; /* Full width on mobile */
        max-width: 100% !important;
    }

    .btn-lg {
        min-height: 48px !important;
        padding: 14px 28px !important;
    }
}

/* ============================================
   4. CONTAINER & HORIZONTAL SCROLL PREVENTION
   ============================================ */

/* Ensure nothing exceeds viewport */
.home-complete-page,
.about-complete-page,
.contact-complete-page,
.gallery-complete-page,
.models-complete-page,
.3d-complete-page,
.mobilhaus-complete-page {
    max-width: 100vw !important;
    overflow-x: hidden !important;
}

/* Container padding - prevent edge touching */
.container {
    max-width: 1400px !important;
    margin-left: auto !important;
    margin-right: auto !important;
    padding-left: 20px !important;
    padding-right: 20px !important;
}

/* Tablet */
@media (min-width: 768px) and (max-width: 1023.98px) {
    .container {
        padding-left: 32px !important;
        padding-right: 32px !important;
    }
}

/* Desktop */
@media (min-width: 1024px) {
    .container {
        padding-left: 40px !important;
        padding-right: 40px !important;
    }
}

/* Extra small - more padding for readability */
@media (max-width: 479.98px) {
    .container {
        padding-left: 16px !important;
        padding-right: 16px !important;
    }
}

/* Image containers */
img {
    max-width: 100% !important;
    height: auto !important;
}

/* Gallery grids - prevent overflow */
.gallery-grid,
.features-grid,
.values-grid,
.models-grid,
.team-grid {
    max-width: 100% !important;
}

/* Color button container */
.color-buttons {
    max-width: 100% !important;
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
}

@media (max-width: 479.98px) {
    .color-buttons {
        gap: 8px !important; /* Tighter on very small screens */
    }
}

/* ============================================
   5. TABLET-SPECIFIC BREAKPOINT COVERAGE
   ============================================ */

/* Typography scaling for tablet */
@media (min-width: 768px) and (max-width: 1023.98px) {
    .hero-content h1,
    .section-header h1 {
        font-size: 2.5rem !important; /* Between mobile 1.75rem and desktop 3rem */
    }

    .hero-subtitle,
    .section-header h2 {
        font-size: 1.5rem !important;
    }

    .section-title {
        font-size: 2rem !important;
    }
}

/* Grid layouts - tablet gets 2 columns */
@media (min-width: 768px) and (max-width: 1023.98px) {
    .features-grid,
    .values-grid {
        grid-template-columns: repeat(2, 1fr) !important;
    }

    .models-grid {
        grid-template-columns: repeat(2, 1fr) !important;
    }

    .team-grid {
        grid-template-columns: repeat(2, 1fr) !important;
    }

    .gallery-grid {
        grid-template-columns: repeat(3, 1fr) !important;
    }

    .interior-gallery-grid {
        grid-template-columns: repeat(3, 1fr) !important;
    }
}

/* 2-column layouts - stay 2-column on tablet */
@media (min-width: 768px) and (max-width: 1023.98px) {
    .text-image-grid,
    .story-grid,
    .contact-grid,
    .about-hero-grid {
        grid-template-columns: 1fr 1fr !important;
        gap: 32px !important;
    }
}

/* ============================================
   6. FONT SIZE SMOOTH SCALING
   ============================================ */

/* Hero titles */
.hero-content h1 {
    font-size: 1.75rem !important; /* Mobile: 28px */
}

@media (min-width: 480px) and (max-width: 767.98px) {
    .hero-content h1 {
        font-size: 2rem !important; /* Small tablet: 32px */
    }
}

@media (min-width: 768px) and (max-width: 1023.98px) {
    .hero-content h1 {
        font-size: 2.5rem !important; /* Tablet: 40px */
    }
}

@media (min-width: 1024px) {
    .hero-content h1 {
        font-size: 3rem !important; /* Desktop: 48px */
    }
}

/* Section headers */
.section-header h2,
.section-title {
    font-size: 1.5rem !important; /* Mobile: 24px */
}

@media (min-width: 768px) and (max-width: 1023.98px) {
    .section-header h2,
    .section-title {
        font-size: 2rem !important; /* Tablet: 32px */
    }
}

@media (min-width: 1024px) {
    .section-header h2,
    .section-title {
        font-size: 2.5rem !important; /* Desktop: 40px */
    }
}

/* Body text scaling */
body {
    font-size: 16px !important;
}

@media (min-width: 768px) {
    body {
        font-size: 17px !important;
    }
}

@media (min-width: 1024px) {
    body {
        font-size: 18px !important;
    }
}

/* ============================================
   7. SECTION PADDING CONSISTENCY
   ============================================ */

.section-padding {
    padding: 3rem 0 !important; /* Mobile: 48px */
}

@media (min-width: 768px) and (max-width: 1023.98px) {
    .section-padding {
        padding: 4rem 0 !important; /* Tablet: 64px */
    }
}

@media (min-width: 1024px) {
    .section-padding {
        padding: 5rem 0 !important; /* Desktop: 80px */
    }
}

/* Extra small - reduce even more */
@media (max-width: 479.98px) {
    .section-padding {
        padding: 2.5rem 0 !important; /* 40px */
    }
}

/* ============================================
   8. MAP HEIGHT RESPONSIVE FIX
   ============================================ */

.map-container {
    height: 300px !important; /* Mobile */
}

@media (min-width: 768px) and (max-width: 1023.98px) {
    .map-container {
        height: 400px !important; /* Tablet */
    }
}

@media (min-width: 1024px) {
    .map-container {
        height: 450px !important; /* Desktop */
    }
}

/* ============================================
   9. GALLERY GRID SMOOTHER TRANSITIONS
   ============================================ */

.interior-gallery-grid {
    grid-template-columns: repeat(2, 1fr) !important; /* Mobile default: 2 columns */
    gap: 12px !important;
}

@media (min-width: 480px) and (max-width: 767.98px) {
    .interior-gallery-grid {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 16px !important;
    }
}

@media (min-width: 768px) and (max-width: 1023.98px) {
    .interior-gallery-grid {
        grid-template-columns: repeat(3, 1fr) !important;
        gap: 20px !important;
    }
}

@media (min-width: 1024px) {
    .interior-gallery-grid {
        grid-template-columns: repeat(4, 1fr) !important;
        gap: 24px !important;
    }
}

/* Extra small - go to 1 column only at 360px and below */
@media (max-width: 360px) {
    .interior-gallery-grid,
    .gallery-grid {
        grid-template-columns: 1fr !important;
    }
}

/* ============================================
   10. NOTCHED PHONE SUPPORT (iPhone X+)
   ============================================ */

@supports (padding: max(0px)) {
    body {
        padding-left: max(0px, env(safe-area-inset-left)) !important;
        padding-right: max(0px, env(safe-area-inset-right)) !important;
    }

    .container {
        padding-left: max(20px, env(safe-area-inset-left)) !important;
        padding-right: max(20px, env(safe-area-inset-right)) !important;
    }

    @media (max-width: 479.98px) {
        .container {
            padding-left: max(16px, env(safe-area-inset-left)) !important;
            padding-right: max(16px, env(safe-area-inset-right)) !important;
        }
    }
}

/* ============================================
   11. FORM ELEMENTS MOBILE OPTIMIZATION
   ============================================ */

/* Contact form inputs */
.contact-form input,
.contact-form textarea,
.contact-form select {
    font-size: 16px !important; /* Prevent zoom on iOS */
    min-height: 44px !important;
}

.contact-form textarea {
    min-height: 120px !important;
}

@media (max-width: 767.98px) {
    .contact-form {
        padding: 16px !important;
    }

    .form-group {
        margin-bottom: 16px !important;
    }
}

/* ============================================
   12. IMAGE ASPECT RATIO FIXES
   ============================================ */

.mobilhaus-hero-image {
    aspect-ratio: 16 / 10 !important;
}

@media (max-width: 767.98px) {
    .mobilhaus-hero-image {
        aspect-ratio: 4 / 3 !important; /* Taller on mobile for better view */
    }
}

/* Gallery images */
.gallery-image-wrapper {
    aspect-ratio: 4 / 3 !important;
}

/* Model card images */
.model-image img {
    height: 250px !important;
    object-fit: cover !important;
}

@media (max-width: 767.98px) {
    .model-image img {
        height: 200px !important;
    }
}

/* ============================================
   13. STICKY ELEMENTS ON MOBILE
   ============================================ */

/* Remove sticky on mobile to prevent scroll issues */
@media (max-width: 767.98px) {
    .sticky,
    [style*="position: sticky"] {
        position: relative !important;
    }
}

/* ============================================
   14. PERFORMANCE - GPU ACCELERATION
   ============================================ */

.btn,
.feature-card,
.model-card,
.value-card,
.gallery-item,
.color-btn {
    will-change: transform !important;
    transform: translateZ(0) !important;
}

/* ============================================
   15. ACCESSIBILITY - FOCUS STATES
   ============================================ */

button:focus,
a:focus,
input:focus,
textarea:focus,
select:focus {
    outline: 2px solid var(--color-primary, #4CAF50) !important;
    outline-offset: 2px !important;
}

/* ============================================
   END OF CRITICAL RESPONSIVE FIXES
   ============================================ */
