/**
 * COMPLETE FIXES - Important & Minor Issues
 * Addresses all remaining issues from audit
 * January 24, 2026
 */

/* ============================================
   IMPORTANT ISSUE #4: KEYBOARD ACCESSIBILITY
   ============================================ */

/* Ensure all interactive elements are keyboard accessible */
button,
a,
[role="button"],
[onclick] {
    cursor: pointer !important;
}

/* Lightbox keyboard navigation support */
.gallery-lightbox,
.interior-lightbox,
.mobilhaus-lightbox {
    /* Already handled by JavaScript, but ensure focus trap */
}

.lightbox-close:focus,
.lightbox-prev:focus,
.lightbox-next:focus {
    outline: 3px solid #fff !important;
    outline-offset: 2px !important;
    background: var(--color-primary, #4CAF50) !important;
}

/* Skip to content link for screen readers */
.skip-to-content {
    position: absolute;
    top: -40px;
    left: 0;
    background: var(--color-primary, #4CAF50);
    color: white;
    padding: 8px 16px;
    text-decoration: none;
    z-index: 100;
}

.skip-to-content:focus {
    top: 0;
}

/* ============================================
   CSS CONFLICTS RESOLUTION
   ============================================ */

/* Consolidate button styles - single source of truth */
.btn,
button:not(.block-editor-block-mover-button):not(.components-button):not(.block-editor-inserter__toggle) {
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 8px !important;
    padding: 12px 24px !important;
    min-height: 44px !important;
    border-radius: 8px !important;
    font-weight: 600 !important;
    font-size: 16px !important;
    text-decoration: none !important;
    transition: all 0.3s ease !important;
    cursor: pointer !important;
    border: 2px solid transparent !important;
    font-family: inherit !important;
}

.btn-primary {
    background: var(--color-primary, #4CAF50) !important;
    color: var(--color-white, #fff) !important;
}

.btn-primary:hover,
.btn-primary:focus {
    background: var(--color-primary-dark, #388E3C) !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15) !important;
}

.btn-outline {
    background: transparent !important;
    border-color: var(--color-primary, #4CAF50) !important;
    color: var(--color-primary, #4CAF50) !important;
}

.btn-outline:hover,
.btn-outline:focus {
    background: var(--color-primary, #4CAF50) !important;
    color: var(--color-white, #fff) !important;
}

.btn-lg {
    padding: 14px 32px !important;
    min-height: 48px !important;
    font-size: 18px !important;
}

.btn-sm {
    padding: 8px 16px !important;
    min-height: 36px !important;
    font-size: 14px !important;
}

/* Container styles - single source of truth */
/* Already defined in critical-responsive-fixes.css */

/* Card styles - unified */
.feature-card,
.value-card,
.model-card,
.team-member,
.gallery-item,
.floorplan-item {
    background: var(--color-white, #fff) !important;
    border-radius: 12px !important;
    overflow: hidden !important;
    transition: all 0.3s ease !important;
}

.feature-card,
.model-card,
.gallery-item {
    box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important;
}

.feature-card:hover,
.model-card:hover,
.gallery-item:hover {
    transform: translateY(-5px) !important;
    box-shadow: 0 8px 24px rgba(0,0,0,0.15) !important;
}

.value-card {
    border: 2px solid var(--color-border, #e0e0e0) !important;
}

.value-card:hover {
    border-color: var(--color-primary, #4CAF50) !important;
    box-shadow: 0 4px 16px rgba(76, 175, 80, 0.2) !important;
}

/* Border radius consistency */
img,
.image-wrapper,
.hero-image,
.gallery-image,
.model-image img,
.story-image img {
    border-radius: 12px !important;
}

.cta-banner,
.contact-form,
.contact-info-wrapper {
    border-radius: 16px !important;
}

/* ============================================
   MINOR ISSUE #1: COLOR PALETTE PREVIEW
   ============================================ */

.scheme-palette-preview,
.color-palette-image {
    max-width: 100% !important;
    max-height: 200px !important;
    object-fit: cover !important;
    border-radius: 8px !important;
}

@media (max-width: 767.98px) {
    .scheme-palette-preview,
    .color-palette-image {
        max-height: 150px !important;
    }
}

@media (max-width: 479.98px) {
    .scheme-palette-preview,
    .color-palette-image {
        max-height: 120px !important;
    }
}

/* Color scheme cards spacing */
.interior-scheme-card {
    margin-bottom: 32px !important;
}

@media (max-width: 767.98px) {
    .interior-scheme-card {
        margin-bottom: 24px !important;
    }
}

/* ============================================
   MINOR ISSUE #2: SPECIFICATION TEXT SIZE
   ============================================ */

.specs-list,
.specifications-list,
.technical-specs {
    font-size: 15px !important;
    line-height: 1.6 !important;
}

.specs-list li,
.specifications-list li,
.technical-specs li {
    padding: 10px 0 !important;
    border-bottom: 1px solid var(--color-border, #e0e0e0) !important;
}

.specs-list li:last-child,
.specifications-list li:last-child,
.technical-specs li:last-child {
    border-bottom: none !important;
}

.specs-list strong,
.specifications-list strong,
.technical-specs strong {
    display: inline-block !important;
    min-width: 120px !important;
    color: var(--color-text-primary, #1d2327) !important;
    font-weight: 600 !important;
}

@media (max-width: 767.98px) {
    .specs-list,
    .specifications-list,
    .technical-specs {
        font-size: 14px !important;
    }

    .specs-list strong,
    .specifications-list strong,
    .technical-specs strong {
        display: block !important;
        margin-bottom: 4px !important;
    }
}

/* Specification grid items */
.plan-specifications {
    background: var(--color-background, #f5f5f5) !important;
    padding: 20px !important;
    border-radius: 12px !important;
    margin-top: 20px !important;
}

.plan-specifications h4 {
    font-size: 18px !important;
    margin-bottom: 16px !important;
    color: var(--color-primary, #4CAF50) !important;
}

/* ============================================
   MINOR ISSUE #3: FORM LABELS MOBILE
   ============================================ */

.contact-form label,
.form-group label,
label {
    display: block !important;
    margin-bottom: 8px !important;
    font-weight: 600 !important;
    color: var(--color-text-primary, #1d2327) !important;
    font-size: 14px !important;
}

@media (min-width: 768px) {
    .contact-form label,
    .form-group label,
    label {
        font-size: 15px !important;
    }
}

@media (min-width: 1024px) {
    .contact-form label,
    .form-group label,
    label {
        font-size: 16px !important;
    }
}

/* Required field indicator */
label .required,
label abbr[title] {
    color: #d32f2f !important;
    font-weight: 700 !important;
}

/* Form field focus states */
.contact-form input:focus,
.contact-form textarea:focus,
.contact-form select:focus,
.form-group input:focus,
.form-group textarea:focus,
.form-group select:focus {
    border-color: var(--color-primary, #4CAF50) !important;
    outline: 2px solid var(--color-primary, #4CAF50) !important;
    outline-offset: 0 !important;
}

/* ============================================
   MINOR ISSUE #4: FOOTER SOCIAL ICONS
   ============================================ */

.footer-social-links,
.social-links,
.team-member-social {
    display: flex !important;
    gap: 12px !important;
    flex-wrap: wrap !important;
}

.footer-social-links a,
.social-links a,
.team-member-social a {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    width: 44px !important;
    height: 44px !important;
    min-width: 44px !important;
    min-height: 44px !important;
    border-radius: 50% !important;
    background: var(--color-primary, #4CAF50) !important;
    color: var(--color-white, #fff) !important;
    transition: all 0.3s ease !important;
    text-decoration: none !important;
}

.footer-social-links a:hover,
.social-links a:hover,
.team-member-social a:hover {
    background: var(--color-primary-dark, #388E3C) !important;
    transform: scale(1.1) !important;
}

.footer-social-links a svg,
.social-links a svg,
.team-member-social a svg {
    width: 20px !important;
    height: 20px !important;
}

/* ============================================
   ADDITIONAL IMPROVEMENTS
   ============================================ */

/* Smooth scroll behavior */
html {
    scroll-behavior: smooth !important;
}

/* Prevent text selection on buttons */
.btn,
button {
    -webkit-user-select: none !important;
    user-select: none !important;
}

/* Image loading optimization */
img {
    image-rendering: -webkit-optimize-contrast !important;
    image-rendering: crisp-edges !important;
}

img[loading="lazy"] {
    background: var(--color-background, #f5f5f5) !important;
}

/* Video responsive */
video,
iframe {
    max-width: 100% !important;
    height: auto !important;
}

/* Tables responsive */
table {
    width: 100% !important;
    overflow-x: auto !important;
    display: block !important;
}

@media (max-width: 767.98px) {
    table {
        font-size: 14px !important;
    }
}

/* Print styles */
@media print {
    .lightbox,
    .gallery-filters,
    .models-filters,
    button,
    .btn {
        display: none !important;
    }

    body {
        font-size: 12pt !important;
    }

    h1 {
        font-size: 24pt !important;
    }

    h2 {
        font-size: 18pt !important;
    }
}

/* Reduce motion for accessibility */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}

/* Dark mode support (if needed in future) */
@media (prefers-color-scheme: dark) {
    /* Add dark mode styles here if needed */
}

/* High contrast mode */
@media (prefers-contrast: high) {
    .btn {
        border-width: 3px !important;
    }

    a {
        text-decoration: underline !important;
    }
}

/* ============================================
   LOADING STATES & ANIMATIONS
   ============================================ */

/* Loading spinner */
.loading,
.is-loading {
    position: relative !important;
    pointer-events: none !important;
    opacity: 0.6 !important;
}

.loading::after,
.is-loading::after {
    content: "" !important;
    position: absolute !important;
    top: 50% !important;
    left: 50% !important;
    width: 40px !important;
    height: 40px !important;
    margin: -20px 0 0 -20px !important;
    border: 4px solid rgba(76, 175, 80, 0.2) !important;
    border-top-color: var(--color-primary, #4CAF50) !important;
    border-radius: 50% !important;
    animation: spin 0.8s linear infinite !important;
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

/* Fade in animation */
.fade-in {
    animation: fadeIn 0.5s ease-in !important;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ============================================
   ERROR STATES & VALIDATION
   ============================================ */

/* Form validation */
.form-group.error input,
.form-group.error textarea,
.form-group.error select {
    border-color: #d32f2f !important;
}

.form-group .error-message,
.error-message {
    color: #d32f2f !important;
    font-size: 13px !important;
    margin-top: 4px !important;
    display: block !important;
}

.form-group.success input,
.form-group.success textarea,
.form-group.success select {
    border-color: #4CAF50 !important;
}

/* Success message */
.success-message,
.form-success {
    background: #e8f5e9 !important;
    color: #2e7d32 !important;
    padding: 16px !important;
    border-radius: 8px !important;
    border-left: 4px solid #4CAF50 !important;
    margin: 16px 0 !important;
}

/* Error message */
.error-banner,
.form-error {
    background: #ffebee !important;
    color: #c62828 !important;
    padding: 16px !important;
    border-radius: 8px !important;
    border-left: 4px solid #d32f2f !important;
    margin: 16px 0 !important;
}

/* ============================================
   TYPOGRAPHY ENHANCEMENTS
   ============================================ */

/* Better text rendering */
body {
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
    text-rendering: optimizeLegibility !important;
}

/* Headings hierarchy */
h1, h2, h3, h4, h5, h6 {
    line-height: 1.3 !important;
    margin-bottom: 0.5em !important;
    font-weight: 700 !important;
}

/* Paragraph spacing */
p {
    margin-bottom: 1em !important;
    line-height: 1.7 !important;
}

p:last-child {
    margin-bottom: 0 !important;
}

/* Link styles */
a {
    color: var(--color-primary, #4CAF50) !important;
    transition: color 0.3s ease !important;
}

a:hover {
    color: var(--color-primary-dark, #388E3C) !important;
}

/* List styles */
ul, ol {
    margin-bottom: 1em !important;
    padding-left: 1.5em !important;
}

li {
    margin-bottom: 0.5em !important;
}

/* Blockquote */
blockquote {
    border-left: 4px solid var(--color-primary, #4CAF50) !important;
    padding-left: 20px !important;
    margin: 20px 0 !important;
    font-style: italic !important;
    color: var(--color-text-secondary, #666) !important;
}

/* Code blocks */
code {
    background: var(--color-background, #f5f5f5) !important;
    padding: 2px 6px !important;
    border-radius: 4px !important;
    font-family: 'Courier New', monospace !important;
    font-size: 0.9em !important;
}

pre code {
    display: block !important;
    padding: 16px !important;
    overflow-x: auto !important;
}

/* ============================================
   END OF COMPLETE FIXES
   ============================================ */
